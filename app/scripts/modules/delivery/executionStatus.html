<div class="row execution-status">
  <div class="col-md-7 execution-info">
    <span ng-switch="execution.trigger.type">
      <h5 ng-switch-when="jenkins">
        <a ng-if="execution.trigger.buildInfo.lastBuild.url"
           href="{{ execution.trigger.buildInfo.lastBuild.url }}"
           target="_blank"
           ng-click="$event.stopPropagation()">
          Build #{{ execution.trigger.buildInfo.lastBuild.number }}
        </a>
      </h5>
      <h5 ng-switch-when="manual">
        Manual Start
      </h5>
      <h5 ng-switch-default>
        {{ execution.trigger.type }}
      </h5>
    </span>
    <ul>
      <span ng-switch="execution.trigger.type">
        <li ng-switch-when="jenkins">
          {{ execution.trigger.buildInfo.name }}
        </li>
        <li ng-switch-when="manual">
          {{ execution.trigger.user || 'unknown user'}}
        </li>
        <li>
          {{ execution.startTime | relativeTime }}
        </li>
      </span>
    </ul>
  </div>
  <div class="col-md-5">
    <span ng-switch="execution.status.toLowerCase()">
      <span ng-switch-when="failed">
        <span>
          <h5 class="status status-failed">
            FAILED
          </h5>
          <ul>
            <li>
              {{ ctrl.getFailedStage(execution) }}
            </li>
          </ul>
        </span>
      </span>
      <span ng-switch-when="canceled">
        <span>
          <h5 class="status status-canceled">
            CANCELED
          </h5>
        </span>
      </span>
      <span ng-switch-when="running">
        <span>
          <h5 class="status status-running">
            RUNNING
            <a href tooltip="Cancel execution" ng-click="ctrl.cancelExecution(execution); $event.stopPropagation();">
              <span class="glyphicon glyphicon-remove-circle"></span>
            </a>
          </h5>
          <ul>
            <li>
              {{ ctrl.getRunningStage(execution) }}
            </li>
          </ul>
        </span>
      </span>
      <span ng-switch-when="suspended">
        <span>
          <h5 class="status status-paused">
            SUSPENDED
          </h5>
          <ul>
            <li>
              On: {{ ctrl.getSuspendedStage(execution) }}
            </li>
          </ul>
        </span>
      </span>
      <span ng-switch-when="completed">
        <h5 class="status status-completed">
          COMPLETED
        </h5>
        <ul>
          <li>
            {{execution.runningTime}}
          </li>
        </ul>
      </span>
      <span ng-switch-default>
        Unknown
        <a href tooltip="Cancel execution" ng-click="ctrl.cancelExecution(execution); $event.stopPropagation();">
          <span class="glyphicon glyphicon-remove-circle"></span>
        </a>
      </span>
    </span>
  </div>
</div>
