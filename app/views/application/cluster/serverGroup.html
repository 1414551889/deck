<div class="row rollup-entry sub-group"
     ng-click="loadDetails($event)"
     ng-class="{
        active: $state.includes('**.serverGroup', {region: serverGroup.region, accountId: serverGroup.account, serverGroup: serverGroup.name}),
        disabled: serverGroup.isDisabled
     }">
  <div class="rollup-summary">
    <a class="rollup-title-cell"
       ui-sref=".serverGroup({region: serverGroup.region, accountId: serverGroup.account, serverGroup: serverGroup.name})">
      <span class="glyphicon glyphicon-th"></span>
      {{serverGroup.name}}
      <account-tag account="serverGroup.account" pad="both"></account-tag>
    </a>
    <load-balancers-tag load-balancers="serverGroup.loadBalancers" max-display="1"></load-balancers-tag>
  </div>
  <div class="rollup-details">
    <div class="build-title">
      <span ng-if="serverGroup.createdTime">
        Created: {{serverGroup.createdTime | date : 'MM/dd/yy @ HH:mm'}},
      </span>

      <a ng-if="serverGroup.buildInfo.jenkins.host"
         href="{{ serverGroup.buildInfo.jenkins.host }}job/{{ serverGroup.buildInfo.jenkins.name }}/{{ serverGroup.buildInfo.jenkins.number }}/"
         target="_blank">
          Build: #{{ serverGroup.buildInfo.jenkins.number }}
      </a>
      <span ng-if="!serverGroup.buildInfo.jenkins.host && serverGroup.buildInfo.version">
          Build Version: {{serverGroup.buildInfo.version}}
      </span>
      <span ng-if="!serverGroup.buildInfo">
        (No build info)
      </span>

      <span ng-if="!serverGroup.isDisabled">
        <health-counts container="serverGroup"></health-counts>
      </span>

      <span ng-if="serverGroup.isDisabled" class="badge badge-disabled">disabled</span>
    </div>
    <div ng-if="displayOptions.showInstances">
      <instances highlight="displayOptions.filter" instances="serverGroup.instances" render-instances-on-scroll="displayOptions.renderInstancesOnScroll"></instances>
    </div>
  </div>
</div>
