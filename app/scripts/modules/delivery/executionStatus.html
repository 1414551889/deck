<div class="row execution-status">
  <div class="col-md-7 execution-info">
    <h5 ng-if="filter.execution.groupBy !== 'name'">{{execution.name}}</h5>
    <span ng-switch="execution.trigger.type" ng-class="{subheading: filter.execution.groupBy !== 'name'}">
       <h5 ng-switch-when="jenkins">
         Triggered Build
       </h5>
      <h5 ng-switch-when="manual">
        Manual Start
      </h5>
      <h5 ng-switch-when="pipeline">
        Pipeline
      </h5>
      <h5 ng-switch-default>
        {{ execution.trigger.type }}
      </h5>
      <h5>
        <a ng-if="execution.trigger.buildInfo.url"
           href="{{ execution.trigger.buildInfo.url }}"
           target="_blank"
           ng-click="$event.stopPropagation()">
          Build #{{ execution.trigger.buildInfo.number }}
        </a>
        <a ng-if="execution.trigger.buildInfo.lastBuild.url"
           href="{{ execution.trigger.buildInfo.lastBuild.url }}"
           target="_blank"
           ng-click="$event.stopPropagation()">
          Build #{{ execution.trigger.buildInfo.lastBuild.number }}
        </a>
        <a ng-if="execution.trigger.parentPipelineId"
           href="/#/applications/{{execution.trigger.parentPipelineApplication}}/executions/{{execution.trigger.parentPipelineId}}"
          >
          {{execution.trigger.parentPipelineName}}
        </a>
      </h5>
    </span>
    <ul>
      <li ng-if="execution.trigger.buildInfo.url">
        {{ execution.trigger.buildInfo | buildDisplayName }}
      </li>
      <span ng-switch="execution.trigger.type">
        <li ng-switch-when="jenkins">
          {{ execution.trigger.job}}
        </li>
        <li ng-switch-when="manual">
          {{ execution.trigger.user || 'unknown user'}}
        </li>
        <li ng-switch-when="pipeline">
          {{ execution.trigger.user || 'unknown user'}}
        </li>
        <li>
          {{ execution.startTime | timestamp }}
        </li>
      </span>
    </ul>
  </div>
  <div class="col-md-5">
    <span ng-switch="execution.status.toLowerCase()">
      <span ng-switch-when="failed">
        <span>
          <h5 class="status status-failed">
            FAILED
          </h5>
          <ul>
            <li>
              {{ ctrl.getFailedStage(execution) }}
            </li>
          </ul>
        </span>
      </span>
      <span ng-switch-when="canceled">
        <span>
          <h5 class="status status-canceled">
            CANCELED
          </h5>
        </span>
      </span>
      <span ng-switch-when="running">
        <span>
          <h5 class="status status-running">
            RUNNING
          </h5>
          <ul>
            <li>
              {{ ctrl.getRunningStage(execution) }}
            </li>
          </ul>
        </span>
      </span>
      <span ng-switch-when="suspended">
        <span>
          <h5 class="status status-paused">
            SUSPENDED
          </h5>
          <ul>
            <li>
              On: {{ ctrl.getSuspendedStage(execution) }}
            </li>
          </ul>
        </span>
      </span>
      <span ng-switch-when="completed">
        <h5 class="status status-completed">
          COMPLETED
        </h5>
        <ul>
          <li>
            {{execution.runningTime}}
          </li>
        </ul>
      </span>
      <span ng-switch-default>
        Unknown
        <a href tooltip="Cancel execution" ng-click="ctrl.cancelExecution(execution); $event.stopPropagation();">
          <span class="glyphicon glyphicon-remove-circle"></span>
        </a>
      </span>
    </span>
  </div>
</div>
