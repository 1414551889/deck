<li class="global-search open">
  <form class="navbar-form right global-search">
    <div class="form-group has-feedback">
      <div class="input-group">
        <input type="search"
          class="form-control flat"
          placeholder="Search"
          ng-model="query"
          ng-focus="ctrl.displayResults()"
          ng-keyup="ctrl.dispatchQueryInput($event)"/>
        <span class="glyphicon glyphicon-search form-control-feedback"></span>
      </div>
    </div>
  </form>
  <ul class="dropdown-menu"
      role="menu"
      ng-if="querying">
    <li class="loader">searching..</li>
  </ul>
  <ul class="dropdown-menu"
      role="menu"
      ng-if="!querying && showSearchResults">
    <li ng-repeat-start="category in categories" class="category-heading">
      <div class="category-heading">{{ category.category }}</div>
    </li>
    <li ng-repeat="result in category.results.slice(0,5)"
        ng-repeat-end
        class="result">
      <a ng-keydown="ctrl.navigateResults($event)" href="{{ result.href }}"><span bind-html-unsafe="result.name | typeaheadHighlight:query"></span></a>
    </li>
    <li class="divider"></li>
    <li class="result" ng-if="categories.length">
    <a href="#/infrastructure?q={{ query }}"
         class="expand-results"
         ng-keydown="ctrl.navigateResults($event)"
         ng-show="categories.length">
           See more results
      </a>
    </li>
    <li class="result" ng-if="!categories.length">
      <a>No matches</a>
    </li>
  </ul>
</li>
