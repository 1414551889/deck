<form class="form-horizontal">
  <div class="form-group">
    <div class="col-md-2 col-md-offset-1 sm-label-left">
      <b>Cluster</b>
      <help-field key="pipeline.config.modifyScalingProcess.cluster"></help-field>
    </div>
    <div class="col-md-6">
      <input type="text" required ng-model="stage.cluster"
        class="form-control input-sm" />
    </div>
  </div>
  <div class="form-group">
    <label class="col-md-2 col-md-offset-1 sm-label-left">Target</label>
    <div class="col-md-6">
      <select class="form-control input-sm"
              required
              ng-model="stage.target"
              ng-options="t.val as t.label for t in targets">
        <option>Select an action...</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label class="col-md-2 col-md-offset-1 sm-label-left">Action</label>
    <div class="col-md-6">
      <select class="form-control input-sm"
              required
              ng-model="stage.action"
              ng-options="a.val as a.label for a in actions">
        <option>Select an action...</option>
      </select>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-2 col-md-offset-1 sm-label-left">Account</label>
    <div class="col-md-6">
      <account-select-field component="stage" field="credentials" accounts="accounts" provider="'aws'" on-change="accountUpdated" required></account-select-field>
    </div>
  </div>
  <div class="form-group" ng-if="stage.credentials">
    <label class="col-md-2 col-md-offset-1 sm-label-left">Regions</label>
    <div class="col-md-8" style="border-top: 1px solid #ccc">
      <label class="checkbox-inline" ng-repeat="r in regions">
        <input
          type="checkbox"
          name="regions[]"
          value="{{r}}"
          ng-disabled="!regionsLoaded"
          ng-checked="stage.regions.indexOf(r) > -1"
          ng-click="toggleRegion(r)">
        {{r}}
      </label>
    </div>
  </div>
  <div class="form-group" ng-if="stage.credentials">
    <label class="col-md-2 col-md-offset-1 sm-label-left">Processes</label>
    <div class="col-md-8" style="border-top: 1px solid #ccc">
      <div class="col-md-8 checkbox" style="padding-left:0;">
        <label ng-repeat="p in processes" style="display: block">
          <input
            type="checkbox"
            name="processes[]"
            value="{{p}}"
            ng-checked="stage.processes.indexOf(p) > -1"
            ng-click="toggleProcess(p)"
          > {{p}}
        </label>
      </div>
    </div>
  </div>

</form>
